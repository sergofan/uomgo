<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="t-virt-template">
	<template>
		<style is="custom-style" include="shared-styles">
			:host {
				display: block;
				word-wrap: break-word;
				/*word-break: break-all;*/
			}
		</style>

		<app-location route="{{route}}" use-hash-as-path></app-location>

		<app-route route="{{route}}"
									pattern="/:page"
									data="{{data}}"
									tail="{{_tail}}"></app-route>

		<app-route route="{{_tail}}"
							 pattern="/:page"
							 data="{{subdata}}"></app-route>

		<animated-lazy-pages attr-for-selected="data-route"
                         selected="{{subdata.page}}"
												 animate-initial-selection
                         loading="{{loading}}"
												 fallback-selection="rules">

			<template is="animated-lazy-page" data-route="rules">
        <neon-animatable entry-animation="fade-in-animation"
                         exit-animation="fade-out-animation"
                         animation-target>

          <x-virt-rules></x-virt-rules>

        <neon-animatable>
      </template>

			<template is="animated-lazy-page" data-route="messages">
        <neon-animatable entry-animation="fade-in-animation"
                         exit-animation="fade-out-animation"
                         animation-target>

          <x-virt-messages></x-virt-messages>

        <neon-animatable>
      </template>

		</animated-lazy-pages>

		<template  is="dom-if" if="[[loading]]">
      <div class="layout horizontal center-center">
        <paper-spinner-lite active="[[loading]]"
                            alt="Загрузка ..."></paper-spinner-lite>
      </div>
    </template>

	</template>
	<script>
	(function() {
		'use strict';

		Polymer({
			is: 't-virt-template',
			properties: {
			},
			ready: function() {
			}
		});
	})();
	</script>
</dom-module>
